"use strict";var BuildFeed;!function(e){let t,n;function l(e){e.preventDefault();const t=this.nextElementSibling;null!=t&&t.classList.toggle("open")}function o(e){e.preventDefault();const t=this.parentElement;if(null==t)return;const n=t.classList.contains("open");if(a(e),!n){t.classList.toggle("open");const e=document.getElementById("menu-open-overlay");null!=e&&e.classList.add("open")}}function a(e){e.preventDefault();const t=document.getElementsByClassName("dropdown-parent");for(let e=0;e<t.length;e++)t[e].classList.remove("open");const n=document.getElementById("menu-open-overlay");null!=n&&n.classList.remove("open")}function s(e){e.preventDefault(),document.cookie=`bf_theme=${this.dataset.theme}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function c(e){e.preventDefault(),document.cookie=`bf_lang=${this.dataset.lang}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function d(e){e.preventDefault();const t=document.getElementById("modal-search-overlay");null!=t&&t.classList.add("open")}function i(e){e.preventDefault();const t=document.getElementById("modal-search-overlay");null!=t&&t.classList.remove("open")}function u(e){e.preventDefault(),e.stopPropagation()}function r(){const e=document.getElementById("modal-search-result");null!=e&&(e.innerHTML="",void 0!==n&&clearTimeout(n),void 0!==t&&t.readyState!==XMLHttpRequest.DONE&&t.abort(),n=setInterval(m,200))}function m(){void 0!==n&&clearTimeout(n);const e=document.getElementById("modal-search-input");(t=new XMLHttpRequest).onreadystatechange=p,t.open("GET",`/api/GetSearchResult/${e.value}/`,!0),t.setRequestHeader("accept","application/json"),t.send(null)}function p(){if(this.readyState!==XMLHttpRequest.DONE||200!==this.status)return;const e=document.getElementById("modal-search-result"),n=document.getElementById("result-template");if(null==e||null==n)return;const l=jsrender.templates(n.innerHTML).render(JSON.parse(t.responseText));e.innerHTML=l;const o=e.getElementsByTagName("a");for(let e=0;e<o.length;e++)o[e].addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("modal-search-input");ga("send","pageview",`/api/GetSearchResult/${t.value}/`),location.assign(e.currentTarget.href)})}e.MobileMenuToggle=l,e.DropdownClick=o,e.CloseDropdowns=a,e.SwitchTheme=s,e.SwitchLanguage=c,e.OpenSearch=d,e.CloseSearch=i,e.StopClick=u,e.InitiateSearch=r,e.SendSearch=m,e.CompleteSearch=p,e.BuildFeedSetup=function(){const e=document.getElementsByClassName("dropdown-parent");for(let t=0;t<e.length;t++)for(let n=0;n<e[t].childNodes.length;n++){const l=e[t].childNodes[n];"A"===l.nodeName&&l.addEventListener("click",o)}const t=document.getElementById("menu-open-overlay");null!=t&&t.addEventListener("click",a);const n=document.getElementById("settings-theme-menu");if(null!=n){const e=n.getElementsByTagName("a");for(let t=0;t<e.length;t++)e[t].addEventListener("click",s)}const m=document.getElementById("settings-lang-menu");if(null!=m){const e=m.getElementsByTagName("a");for(let t=0;t<e.length;t++)e[t].addEventListener("click",c)}const p=document.getElementById("page-navigation-toggle");null!=p&&p.addEventListener("click",l);const g=document.getElementById("page-navigation-search");null!=g&&g.addEventListener("click",d);const h=document.getElementById("modal-search-overlay");null!=h&&h.addEventListener("click",i);const v=document.getElementById("modal-search");null!=v&&v.addEventListener("click",u);const E=document.getElementById("modal-search-input");null!=E&&E.addEventListener("keyup",r)}}(BuildFeed||(BuildFeed={})),window.addEventListener("load",BuildFeed.BuildFeedSetup);
//# sourceMappingURL=bfs.js.map
